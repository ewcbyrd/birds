(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{25:function(e,s,t){"use strict";t.r(s);var n=t(0),o=t(19);function a(e,s,t,a){const{h:c,t:i,k:r,d:d,c:l,i:h,b:u}=e,{_m0:m}=a;return[c("article",{classMap:{"slds-card":!0},key:0},[c("div",{classMap:{"slds-card__header":!0,"slds-grid":!0},key:1},[c("header",{classMap:{"slds-media":!0,"slds-media_center":!0,"slds-has-flexi-truncate":!0},key:2},[c("div",{classMap:{"slds-media__figure":!0},key:3},[c("span",{classMap:{"slds-icon_container":!0,"slds-icon-standard-announcement":!0},attrs:{title:"account"},key:4},[c("svg",{classMap:{"slds-icon":!0,"slds-icon_medium":!0},attrs:{"aria-hidden":"true"},key:5},[c("use",{attrs:{"xlink:href":Object(n.sanitizeAttribute)("use","http://www.w3.org/2000/svg","xlink:href","resources/SLDS/icons/standard-sprite/svg/symbols.svg#announcement")},key:6},[])])])]),c("div",{classMap:{"slds-media__body":!0},key:7},[c("h2",{classMap:{"slds-card__header-title":!0},key:8},[i("Announcements")])])])]),c("div",{classMap:{"slds-card__body":!0,"slds-card__body_inner":!0},key:9},h(s.announcements,(function(e){return c("div",{classMap:{"slds-p-bottom_small":!0},key:r(10,e._id)},[c("div",{classMap:{"slds-text-heading_medium":!0},key:11},[d(e.headline)]),c("div",{classMap:{"slds-p-top_xx-small":!0},key:12},[l("lightning-formatted-rich-text",o.a,{props:{value:e.details},key:13},[])])])}))),s.showFooter?c("footer",{classMap:{"slds-card__footer":!0},key:14},[c("a",{classMap:{"slds-card__footer-action":!0},attrs:{href:"javascript:void(0);"},key:15,on:{click:m||(a._m0=u(s.handleViewAllClick))}},[i("View All Announcements")])]):null])]}var c=Object(n.registerTemplate)(a);a.stylesheets=[],a.stylesheetTokens={hostAttribute:"my-my-announcements_announcements-host",shadowAttribute:"my-my-announcements_announcements"};var i=t(9);class r extends n.LightningElement{constructor(...e){super(...e),this.home=!1,this.numRows=2,this.announcements=[]}connectedCallback(){this.fetchAnnouncements()}fetchAnnouncements(){const e=sessionStorage.getItem("announcements");e?this.announcements=this.home?JSON.parse(e).splice(0,this.numRows):this.announcements=JSON.parse(e):Object(i.a)().then(e=>{let s=e.length<this.numRows?e.length:this.numRows;sessionStorage.setItem("announcements",JSON.stringify(e)),this.announcements=this.home||1===e.length?e.splice(0,s):e}).catch(e=>{console.log(e)})}get showFooter(){return"true"===this.home}handleViewAllClick(){this.dispatchEvent(new CustomEvent("viewall",{detail:"announcements",bubbles:!0,composed:!0}))}}Object(n.registerDecorators)(r,{publicProps:{home:{config:0},numRows:{config:0}},fields:["announcements"]});s.default=Object(n.registerComponent)(r,{tmpl:c})},9:function(e,s,t){"use strict";t.d(s,"b",(function(){return a})),t.d(s,"d",(function(){return c})),t.d(s,"e",(function(){return i})),t.d(s,"g",(function(){return r})),t.d(s,"a",(function(){return d})),t.d(s,"c",(function(){return l})),t.d(s,"f",(function(){return h}));const n="https://fredbirds-api.herokuapp.com/",o=function(e){return new Promise((s,t)=>{fetch(e,{method:"GET",headers:{"cache-control":"no-cache"}}).then(e=>e.json()).then(e=>{s(e)}).catch(e=>{t(e)})})},a=e=>o(`${n}events/${e}`),c=(e,s=3)=>o(`${n}events/future/${s}`),i=()=>o("https://fredbirds-api.herokuapp.com/news"),r=e=>fetch("https://fredbirds-api.herokuapp.com/sendgrid",{method:"POST",headers:{"cache-control":"no-cache","content-type":"application/json"},body:e,json:!0}),d=()=>o("https://fredbirds-api.herokuapp.com/announcements"),l=()=>fetch("https://fredbirds-api.herokuapp.com/faqs",{method:"GET"}),h=()=>fetch("https://fredbirds-api.herokuapp.com/newsletters",{method:"GET"})}}]);