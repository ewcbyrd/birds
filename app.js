!function(e){function s(s){for(var a,n,o=s[0],r=s[1],d=s[2],p=0,h=[];p<o.length;p++)n=o[p],Object.prototype.hasOwnProperty.call(l,n)&&l[n]&&h.push(l[n][0]),l[n]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);for(c&&c(s);h.length;)h.shift()();return i.push.apply(i,d||[]),t()}function t(){for(var e,s=0;s<i.length;s++){for(var t=i[s],a=!0,o=1;o<t.length;o++){var r=t[o];0!==l[r]&&(a=!1)}a&&(i.splice(s--,1),e=n(n.s=t[0]))}return e}var a={},l={1:0},i=[];function n(s){if(a[s])return a[s].exports;var t=a[s]={i:s,l:!1,exports:{}};return e[s].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=e,n.c=a,n.d=function(e,s,t){n.o(e,s)||Object.defineProperty(e,s,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,s){if(1&s&&(e=n(e)),8&s)return e;if(4&s&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&s&&"string"!=typeof e)for(var a in e)n.d(t,a,function(s){return e[s]}.bind(null,a));return t},n.n=function(e){var s=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(s,"a",s),s},n.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)},n.p="./";var o=window.webpackJsonp=window.webpackJsonp||[],r=o.push.bind(o);o.push=s,o=o.slice();for(var d=0;d<o.length;d++)s(o[d]);var c=r;i.push([40,0,2]),t()}({17:function(e,s){},40:function(e,s,t){e.exports=t(445)},445:function(e,s,t){"use strict";t.r(s);t(41);var a=t(2);var l=[function(e,s,t){return[".main",s," {background-color: white;}\n.center",s," {text-align: center;}\n.header",s," {background-color: #1589ee;font-family: 'Lucida Grande', Verdana, Arial, Sans-Serif;color: white;}\n.header1",s," {font-size: 40px;font-weight: 700;}\n.header2",s," {font-size: 1.2em;}\n"].join("")}];var i=[function(e,s,t){return[".main",s," {background-color: white;}\n.opening",s," {font-size: 1rem;}\n.slds-carousel__panel.panel-hide",s,"{display: none;}\n.slds-carousel__panel",s," img",s,"{max-height: 60vh !important;}\n"].join("")}];var n=[function(e,s,t){return[".slds-carousel__panel.panel-hide",s,"{display: none;}\n.slds-carousel__panel",s," img",s,"{max-height: 60vh !important;}\n"].join("")}];function o(e,s,t,l){const{h:i,b:n,d:o,ti:r,fid:d,gid:c,k:p,i:h}=e,{_m0:y,_m1:u,_m2:g}=l;return[i("div",{classMap:{"slds-carousel":!0},key:26},[i("div",{classMap:{"slds-carousel__stage":!0},key:25},[s.autoScroll?i("span",{classMap:{"slds-carousel__autoplay":!0},key:6},[s.showPlayIcon?null:i("button",{classMap:{"slds-button":!0,"slds-button_icon":!0,"slds-button_icon-border-filled":!0,"slds-button_icon-x-small":!0},attrs:{title:"Stop auto-play"},key:2,on:{click:y||(l._m0=n(s.togglePlay))}},[i("svg",{classMap:{"slds-button__icon":!0},attrs:{"aria-hidden":"true"},key:1},[i("use",{attrs:{"xlink:href":Object(a.f)("use","http://www.w3.org/2000/svg","xlink:href","resources/SLDS/icons/utility-sprite/svg/symbols.svg#pause")},key:0},[])])]),s.showPlayIcon?i("button",{classMap:{"slds-button":!0,"slds-button_icon":!0,"slds-button_icon-border-filled":!0,"slds-button_icon-x-small":!0},attrs:{title:"resume auto-play"},key:5,on:{click:u||(l._m1=n(s.togglePlay))}},[i("svg",{classMap:{"slds-button__icon":!0},attrs:{"aria-hidden":"true"},key:4},[i("use",{attrs:{"xlink:href":Object(a.f)("use","http://www.w3.org/2000/svg","xlink:href","resources/SLDS/icons/utility-sprite/svg/symbols.svg#play")},key:3},[])])]):null]):null,i("div",{classMap:{"slds-carousel__panels":!0},styleMap:{transform:"translateX(-0%)"},key:20},s.components?h(s.components,(function(e){return i("div",{className:e.contentClass,attrs:{id:c(e.contentId),role:"tabpanel","aria-hidden":e.hidden,"aria-labelledby":c(e.indicatorId)},key:p(19,e.contentId)},[e.video?i("div",{classMap:{"slds-carousel__panel-action":!0,"slds-text-link_reset":!0},attrs:{tabindex:r(e.tabindex)},key:12},[i("div",{key:8},[i("iframe",{attrs:{height:"400px",width:"100%",src:e.video,frameborder:"0",allow:"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0},key:7},[])]),i("div",{classMap:{"slds-carousel__content":!0},key:11},[i("h2",{classMap:{"slds-carousel__content-title":!0},key:9},[o(e.header)]),i("p",{key:10},[o(e.description)])])]):null,e.video?null:i("a",{classMap:{"slds-carousel__panel-action":!0,"slds-text-link_reset":!0},attrs:{href:d(e.href),tabindex:r(e.tabindex)},key:18},[i("div",{classMap:{"slds-carousel__image":!0},key:14},[i("img",{attrs:{src:e.image,alt:e.header},key:13},[])]),i("div",{classMap:{"slds-carousel__content":!0},key:17},[i("h2",{classMap:{"slds-carousel__content-title":!0},key:15},[o(e.header)]),i("p",{key:16},[o(e.description)])])])])})):[]),i("ul",{classMap:{"slds-carousel__indicators":!0},attrs:{role:"tablist"},key:24},s.components?h(s.components,(function(e){return i("li",{classMap:{"slds-carousel__indicator":!0},attrs:{role:"presentation"},key:p(23,e.indicatorId)},[i("a",{className:e.indicatorClass,attrs:{id:c(e.indicatorId),"data-id":e.id,role:"tab",tabindex:r(e.tabindex),"aria-selected":e.active,"aria-controls":c(e.contentId),title:e.title},key:22,on:{click:g||(l._m2=n(s.navigate))}},[i("span",{classMap:{"slds-assistive-text":!0},key:21},[o(e.title)])])])})):[])])])]}var r=Object(a.e)(o);function d(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}o.stylesheets=[],n&&o.stylesheets.push.apply(o.stylesheets,n),o.stylesheetTokens={hostAttribute:"my-c-carouselComponent_carouselComponent-host",shadowAttribute:"my-c-carouselComponent_carouselComponent"};class c extends a.a{constructor(...e){super(...e),this.items=void 0,this.options=void 0,this.components=void 0,this.showPlayIcon=void 0,this.activeComponent=0,this.loaded=!1,this.autoScroll=void 0,this.intervalVar=void 0}navigate(e){this.activeComponent=parseInt(e.target.dataset.id),this.arrangeComponents()}arrangeComponents(){let e=[],s=0;this.items.forEach(t=>{let a=function(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?Object(arguments[s]):{},a=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),a.forEach((function(s){d(e,s,t[s])}))}return e}({},t);a.id=s,a.contentId="content-id-"+s,a.indicatorId="indicator-id-"+s,a.href&&(a.href="javascript:void(0);"),s===this.activeComponent?(a.hidden=!1,a.tabindex=0,a.active=!0,a.indicatorClass="slds-carousel__indicator-action slds-is-active",a.contentClass="slds-carousel__panel"):(a.hidden=!0,a.tabindex=-1,a.active=!1,a.indicatorClass="slds-carousel__indicator-action",a.contentClass="slds-carousel__panel panel-hide"),e.push(a),s++}),this.components=e}togglePlay(){this.showPlayIcon?this.checkOptions():(clearInterval(this.intervalVar),this.showPlayIcon=!0)}checkOptions(){this.options&&this.options.autoScroll&&this.options.autoScrollTime&&(this.autoScroll=!0,this.showPlayIcon=!1,this.intervalVar=setInterval(()=>{this.activeComponent===this.components.length-1?this.activeComponent=0:this.activeComponent++,this.arrangeComponents()},1e3*this.options.autoScrollTime))}renderedCallback(){this.loaded||(this.arrangeComponents(),this.checkOptions(),this.loaded=!0)}}Object(a.d)(c,{publicProps:{items:{config:0},options:{config:0}},track:{components:1,showPlayIcon:1},fields:["activeComponent","loaded","autoScroll","intervalVar"]});var p=Object(a.c)(c,{tmpl:r});var h=[function(e,s,t){return["pre",s," {white-space: pre-wrap;font-size: 0.8125rem;font-family: Arial, Helvetica, sans-serif;}\ntable",s," {table-layout: fixed;width: 100%;}\n"].join("")}];function y(e,s,t,l){const{h:i,t:n,b:o,d:r,k:d,i:c}=e,{_m0:p,_m1:h,_m2:y}=l;return[s.yearEvents?i("div",{key:33},[i("div",{classMap:{"slds-card":!0},key:32},[i("div",{classMap:{"slds-card__header":!0},key:11},[i("div",{classMap:{"slds-media":!0,"slds-media--center":!0,"slds-has-flexi-truncate":!0},key:10},[i("span",{classMap:{"slds-icon_container":!0,"slds-icon-standard-event":!0},attrs:{title:"Description of icon when needed"},key:3},[i("svg",{classMap:{"slds-icon":!0},attrs:{"aria-hidden":"true"},key:1},[i("use",{attrs:{"xlink:href":Object(a.f)("use","http://www.w3.org/2000/svg","xlink:href","resources/SLDS/icons/standard-sprite/svg/symbols.svg#event")},key:0},[])]),i("span",{classMap:{"slds-assistive-text":!0},key:2},[n("Description of icon when needed")])]),i("div",{classMap:{"slds-media__body":!0},key:9},[i("h2",{classMap:{"slds-p-left_small":!0,"slds-text-heading--small":!0,"slds-truncate":!0},key:8},[s.isHome?n("Upcoming Events"):null,s.isHome?null:i("select",{key:7,on:{change:p||(l._m0=o(s.handleYearChange))}},[i("option",{attrs:{value:"2021"},key:4},[n("2021")]),i("option",{attrs:{value:"2020"},key:5},[n("2020")]),i("option",{attrs:{value:"2019"},key:6},[n("2019")])]),s.isHome?null:n("Â  Calendar of Events")])])])]),i("div",{classMap:{"slds-card__body":!0},key:29},[i("div",{classMap:{"slds-scrollable--y":!0,"slds-is-relative":!0},key:28},[s.loading?i("div",{classMap:{"slds-spinner_container":!0},key:16},[i("div",{classMap:{"slds-spinner":!0,"slds-spinner_medium":!0,"slds-spinner_brand":!0},attrs:{role:"status"},key:15},[i("span",{classMap:{"slds-assistive-text":!0},key:12},[n("Loading")]),i("div",{classMap:{"slds-spinner__dot-a":!0},key:13},[]),i("div",{classMap:{"slds-spinner__dot-b":!0},key:14},[])])]):null,i("table",{classMap:{fixed_header:!0,"slds-table":!0,"slds-table_cell-buffer":!0,"slds-table_bordered":!0,"slds-table_col-bordered":!0},key:27},[i("thead",{key:22},[i("tr",{classMap:{"slds-text-heading--label":!0},key:21},[i("th",{attrs:{scope:"col"},key:18},[i("span",{classMap:{"slds-truncate":!0},key:17},[n("Date(s)")])]),i("th",{attrs:{scope:"col"},key:20},[i("span",{classMap:{"slds-truncate":!0},key:19},[n("Event")])])])]),i("tbody",{key:26},c(s.yearEvents,(function(e){return i("tr",{classMap:{"slds-hint-parent":!0},attrs:{"data-item":e.id},key:d(25,e.id),on:{click:h||(l._m1=o(s.handleEventClick))}},[i("td",{classMap:{"slds-cell-wrap":!0},key:23},[r(e.date)]),i("td",{classMap:{"slds-cell-wrap":!0},key:24},[r(e.event)])])})))])])]),s.isHome?i("footer",{classMap:{"slds-card__footer":!0},key:31},[i("a",{classMap:{"slds-card__footer-action":!0},attrs:{href:"#"},key:30,on:{click:y||(l._m2=o(s.handleViewAllEventsClick))}},[n("View All Events")])]):null])]):null]}var u=Object(a.e)(y);y.stylesheets=[],h&&y.stylesheets.push.apply(y.stylesheets,h),y.stylesheetTokens={hostAttribute:"my-my-events_events-host",shadowAttribute:"my-my-events_events"};class g extends a.a{constructor(...e){super(...e),this.year=void 0,this.yearEvents=void 0,this.showModal=!1,this.events={},this.selectedEvent=void 0,this.noEvents=!1,this.loading=!1,this.opts={autoScroll:!1,autoScrollTime:7},this.home=void 0,this.readOnly=!1}connectedCallback(){const e=(new Date).getFullYear();this.year=e,this.fetchEventsByYear(e)}get options(){return Object.keys(this.events)}handleEventClick(e){const s=e.currentTarget.dataset.item;this.selectedEvent=this.yearEvents.find(e=>e.id===s),"0"!==s&&this.dispatchEvent(new CustomEvent("eventclick",{detail:this.selectedEvent}))}handleCloseClick(){this.showModal=!1}handleYearChange(e){const s=e.currentTarget.value;this.year=s,this.fetchEventsByYear(s),this.dispatchEvent(new CustomEvent("eventyearchange"))}get eventCancelled(){return this.selectedEvent.cancelled}get tripReport(){return this.selectedEvent.tripReport}createEvents(e){if(this.yearEvents=[],0===e.length)return this.yearEvents=[{id:"0",date:"No Events Scheduled"}],void(this.noEvents=!0);this.noEvents=!1,e.sort((e,s)=>e.start>s.start?1:-1),e.forEach(e=>{let s=[];e.photos&&e.photos.forEach(e=>{s.push({header:""+e.caption,image:"https://fredbirds-098f.restdb.io/media/"+e.photo,href:"#"})}),e.species_sighted&&e.species_sighted.sort((e,s)=>e.common>s.common?1:-1),e.participants&&e.participants.sort((e,s)=>e.name>s.name?1:-1),this.yearEvents.push({id:e._id,date:this.getEventDate(new Date(e.start),e.end?new Date(e.end):null),event:e.event,sightings:e.species_sighted,details:e.details,tripReport:e.tripreport,participants:e.participants,start:e.start,cancelled:e.cancelled,photos:s,pdfFile:e.pdfFile})})}get showDetails(){return console.log(new Date<this.selectedEvent.start||"0"===this.yearEvents[0]._id),new Date<this.selectedEvent.start||"0"===this.yearEvents[0]._id}fetchEventsByYear(e){const s=new Date;this.loading=!0;const t="false"===this.home?sessionStorage.getItem(e+"events"):sessionStorage.getItem("upcomingevents"),a="false"===this.home?`{"start":{"$gt":{"$date":"${e}-01-01"},"$lt":{"$date":"${e}-12-31"}}}`:`{"start":{"$gt":{"$date":"${s.getFullYear()}-${s.getMonth()+1}-${s.getDate()}"},"$lt":{"$date":"${s.getFullYear()}-${s.getMonth()+4}-${s.getDate()}"}}}`;t?(this.createEvents(JSON.parse(t)),this.loading=!1):fetch("https://fredbirds-098f.restdb.io/rest/events?q="+a,{method:"GET",headers:{"cache-control":"no-cache","x-apikey":"5ff9ea16823229477922c93f"}}).then(e=>e.json()).then(s=>{const t="false"===this.home?e+"events":"upcomingevents";sessionStorage.setItem(t,JSON.stringify(s)),this.createEvents(s),this.loading=!1}).catch(e=>{console.log(e)})}getEventDate(e,s){let t="";const a=e.toLocaleString("default",{month:"long"});if(t=`${a} ${e.getDate()+1}`,s){const e=s.toLocaleString("default",{month:"long"});t+=a===e?" - "+(s.getDate()+1):` - ${e} ${s.getDate()+1}`}return t}get isHome(){return"true"===this.home}handleViewAllEventsClick(){this.dispatchEvent(new CustomEvent("viewall",{detail:"events",bubbles:!0,composed:!0}))}}Object(a.d)(g,{publicProps:{home:{config:0},readOnly:{config:0}},fields:["year","yearEvents","showModal","events","selectedEvent","noEvents","loading","opts"]});var m=Object(a.c)(g,{tmpl:u});function k(e,s,t,a){const{t:l,h:i,c:n}=e;return[i("div",{classMap:{"slds-grid":!0,"slds-wrap":!0,"slds-p-left_large":!0,"slds-p-right_large":!0,main:!0,"slds-p-bottom_xx-large":!0,"slds-p-top_medium":!0,"slds-gutters":!0},key:10},[i("div",{classMap:{"slds-large-size_2-of-3":!0,"slds-small-size_1-of-1":!0,"slds-col":!0},key:7},[i("div",{classMap:{},key:3},[i("div",{classMap:{"slds-text-heading_large":!0,"slds-p-top_small":!0},key:1},[i("strong",{key:0},[l("Welcome!")])]),i("div",{classMap:{opening:!0},key:2},[l("Welcome to the new and improved webpage for the Fredericksburg Birding Club (FBC). Our members are bird enthusiasts of all skill levels â from beginning to advanced birders â who reside in the greater Fredericksburg, Virginia area. We have been brought together because of our interest in birds and our love of birding. We welcome anyone to join us on one of our upcoming trips â even if you have never birded before â and hope you will consider becoming a member.")])]),i("div",{classMap:{"slds-p-top_medium":!0},key:6},[i("div",{classMap:{"carousel-container":!0},key:5},[n("c-carousel-component",p,{props:{items:s.items,options:s.options},key:4},[])])])]),i("div",{classMap:{"slds-large-size_1-of-3":!0,"slds-small-size_1-of-1":!0,"slds-col":!0},key:9},[n("my-events",m,{props:{home:"true"},key:8},[])])])]}var v=Object(a.e)(k);k.stylesheets=[],i&&k.stylesheets.push.apply(k.stylesheets,i),k.stylesheetTokens={hostAttribute:"my-my-home_home-host",shadowAttribute:"my-my-home_home"};class b extends a.a{constructor(...e){super(...e),this.counter=0,this.options={autoScroll:!0,autoScrollTime:5},this.items=[{image:"https://fredbirds-098f.restdb.io/media/60283a54b0bc995a0001f177",header:"Chesapeake Bay Bridge Tunnel",href:"#"},{image:"https://fredbirds-098f.restdb.io/media/60283a58b0bc995a0001f178",header:"George Washington Birthplace National Monument",description:"November 10, 2018",href:"#"},{image:"https://fredbirds-098f.restdb.io/media/60283a5bb0bc995a0001f17a",header:"Occoquan Bay National Wildlife Refuge",description:"March 11, 2017",href:"#"},{image:"https://fredbirds-098f.restdb.io/media/60283a5db0bc995a0001f17b",href:"#"},{image:"https://fredbirds-098f.restdb.io/media/60283a5fb0bc995a0001f17d",header:"Mattamuskeet National Wildlife Refuge",href:"#"}]}connectedCallback(){}}Object(a.d)(b,{fields:["counter","options","items"]});var _=Object(a.c)(b,{tmpl:v}),f=[];var M=[function(e,s,t){return["table",s," {table-layout: fixed;width: 100%;}\n"].join("")}];function w(e,s,t,l){const{h:i,t:n,d:o,k:r,b:d,i:c}=e,{_m0:p}=l;return[s.sightings?i("div",{classMap:{"slds-size_1-of-1":!0},key:22},[i("div",{classMap:{"slds-card":!0},key:21},[i("div",{classMap:{"slds-card__header":!0},key:7},[i("div",{classMap:{"slds-media":!0,"slds-media--center":!0,"slds-has-flexi-truncate":!0},key:6},[i("span",{classMap:{"slds-icon_container":!0,"slds-icon-standard-forecasts":!0},attrs:{title:"Description of icon when needed"},key:3},[i("svg",{classMap:{"slds-icon":!0},attrs:{"aria-hidden":"true"},key:1},[i("use",{attrs:{"xlink:href":Object(a.f)("use","http://www.w3.org/2000/svg","xlink:href","resources/SLDS/icons/standard-sprite/svg/symbols.svg#forecasts")},key:0},[])]),i("span",{classMap:{"slds-assistive-text":!0},key:2},[n("Description of icon when needed")])]),i("div",{classMap:{"slds-media__body":!0},key:5},[i("h2",{classMap:{"slds-p-left_small":!0,"slds-text-heading--small":!0,"slds-wrap":!0},key:4},[o(s.header)])])])]),i("div",{classMap:{"slds-card__body":!0},key:20},[i("div",{classMap:{"slds-scrollable--y":!0},styleMap:{maxHeight:"450px"},key:19},[i("table",{classMap:{"slds-table":!0,"slds-table_cell-buffer":!0,"slds-table_bordered":!0,"slds-table_col-bordered":!0},key:18},[i("thead",{key:13},[i("tr",{classMap:{"slds-text-heading--label":!0},key:12},[i("th",{attrs:{scope:"col"},key:9},[i("span",{classMap:{"slds-truncate":!0},key:8},[n("Species")])]),i("th",{attrs:{scope:"col"},key:11},[i("span",{classMap:{"slds-truncate":!0},key:10},[n("Location")])])])]),i("tbody",{key:17},c(s.sightingList,(function(e){return i("tr",{classMap:{"slds-hint-parent":!0},attrs:{"data-id":e.id},key:r(16,e.id),on:{click:p||(l._m0=d(s.handleSightingClick))}},[i("td",{classMap:{"slds-cell-wrap":!0},key:14},[o(e.name)]),i("td",{classMap:{"slds-cell-wrap":!0},key:15},[o(e.locations)])])})))])])])])]):null]}var S=Object(a.e)(w);w.stylesheets=[],M&&w.stylesheets.push.apply(w.stylesheets,M),w.stylesheetTokens={hostAttribute:"my-my-sightings_sightings-host",shadowAttribute:"my-my-sightings_sightings"};class x extends a.a{constructor(...e){super(...e),this.sightings=void 0,this.header=void 0}get sightingList(){let e=[];return new Set(this.sightings.map(e=>e.comName)).forEach(s=>{let t=this.sightings.filter(e=>e.comName===s),a=new Set(t.map(e=>e.subnational2Name));e.push({id:t[0].speciesCode,name:s,locations:Array.from(a).join(", ")})}),e.sort((e,s)=>e.name>s.name?1:-1)}handleSightingClick(e){const s=e.currentTarget.dataset.id,t=this.sightings.filter(e=>e.speciesCode===s);this.dispatchEvent(new CustomEvent("sightingselected",{detail:t}))}}Object(a.d)(x,{publicProps:{sightings:{config:0},header:{config:0}}});var C=Object(a.c)(x,{tmpl:S});var E=[function(e,s,t){return[".slds-card__footer",s," {height: 250px;}\n"].join("")}];function O(e,s,t,a){const{d:l,h:i,t:n,k:o,b:r,i:d}=e,{_m0:c}=a;return[s.showSightings?i("article",{classMap:{"slds-card":!0},key:29},[i("div",{classMap:{"slds-card__header":!0,"slds-grid":!0},key:5},[i("header",{classMap:{"slds-media":!0,"slds-media_center":!0,"slds-has-flexi-truncate":!0},key:4},[i("div",{classMap:{"slds-media__body":!0},key:3},[i("h2",{classMap:{"slds-card__header-title":!0},key:2},[i("a",{classMap:{"slds-card__header-link":!0,"slds-truncate":!0},attrs:{href:"#",title:"Accounts"},key:1},[i("span",{key:0},[l(s.header)])])])])])]),i("div",{classMap:{"slds-card__body":!0,"slds-card__body_inner":!0},key:26},[i("table",{classMap:{"slds-table":!0,"slds-table_cell-buffer":!0,"slds-table_bordered":!0,"slds-table_col-bordered":!0},key:25},[i("thead",{key:17},[i("tr",{classMap:{"slds-text-heading--label":!0},key:16},[i("th",{attrs:{scope:"col"},key:7},[i("span",{classMap:{"slds-truncate":!0},key:6},[n("Date/Time")])]),i("th",{styleMap:{width:"20rem"},attrs:{scope:"col"},key:9},[i("span",{classMap:{"slds-truncate":!0},key:8},[n("Site Name")])]),i("th",{attrs:{scope:"col"},key:11},[i("span",{classMap:{"slds-truncate":!0},key:10},[n("Location")])]),i("th",{attrs:{scope:"col"},key:13},[i("span",{classMap:{"slds-truncate":!0},key:12},[n("Sighted By")])]),i("th",{attrs:{scope:"col"},key:15},[i("span",{classMap:{"slds-truncate":!0},key:14},[n("Quanitity")])])])]),i("tbody",{key:24},d(s.sightingList,(function(e){return i("tr",{classMap:{"slds-hint-parent":!0},attrs:{"data-id":e.id},key:o(23,e.id),on:{click:c||(a._m0=r(s.handleSightingClick))}},[i("td",{classMap:{"slds-cell-wrap":!0},key:18},[l(e.date)]),i("td",{classMap:{"slds-cell-wrap":!0},key:19},[l(e.location)]),i("td",{classMap:{"slds-cell-wrap":!0},key:20},[l(e.locality)]),i("td",{classMap:{"slds-cell-wrap":!0},key:21},[l(e.by)]),i("td",{classMap:{"slds-cell-wrap":!0},key:22},[l(e.quantity)])])})))])]),i("footer",{classMap:{"slds-card__footer":!0},key:28},[s.showMap?i("iframe",{styleMap:{border:"0"},attrs:{width:"100%",height:"100%",frameborder:"0",src:s.mapUrl,allowfullscreen:!0},key:27},[]):null])]):null]}var j=Object(a.e)(O);O.stylesheets=[],E&&O.stylesheets.push.apply(O.stylesheets,E),O.stylesheetTokens={hostAttribute:"my-my-sightingsDetails_sightingsDetails-host",shadowAttribute:"my-my-sightingsDetails_sightingsDetails"};class D extends a.a{constructor(...e){super(...e),this.sightings=void 0,this.lat=void 0,this.lon=void 0}get showSightings(){return void 0!==this.sightings&&this.sightings.length>0}get header(){return`${this.sightings[0].comName} (${this.sightings[0].sciName})`}get sightingList(){let e=[];return this.sightings.forEach(s=>{e.findIndex(e=>e.id===s.obsId)<0&&e.push({id:s.obsId,location:s.locName,locality:`${s.subnational2Name}, ${s.subnational1Name}`,quantity:s.howMany,by:s.userDisplayName,date:s.obsDt})}),e}get mapUrl(){return`https://www.google.com/maps/embed/v1/place?key=AIzaSyCB3Q5szLx_1-UE-WIkFSgA3fFi7-KWFAM&q=${this.lat},${this.lon}&zoom=15`}get showMap(){return this.lat&&this.lon}handleSightingClick(e){const s=e.currentTarget.dataset.id,t=this.sightings.find(e=>e.obsId===s);this.lat=t.lat,this.lon=t.lng}}Object(a.d)(D,{publicProps:{sightings:{config:0},lat:{config:0},lon:{config:0}}});var A=Object(a.c)(D,{tmpl:j});function I(e,s,t,a){const{gid:l,b:i,h:n,t:o,c:r}=e,{_m0:d,_m1:c,_m2:p,_m3:h,_m4:y}=a;return[n("div",{classMap:{"slds-grid":!0,"slds-wrap":!0,"slds-gutters":!0,"slds-p-left_medium":!0,"slds-p-right_medium":!0,main:!0,"slds-p-bottom_xx-large":!0,"slds-p-top_medium":!0},key:27},[n("div",{classMap:{"slds-col":!0,"slds-large-size_1-of-3":!0,"slds-small-size_1-of-1":!0,"slds-p-left_x-small":!0,"slds-text-align_center":!0,"slds-p-bottom_small":!0},key:19},[n("fieldset",{classMap:{"slds-form-element":!0},key:18},[n("div",{classMap:{"slds-form-element__control":!0},key:17},[n("div",{classMap:{"slds-radio_button-group":!0},key:16},[n("span",{classMap:{"slds-button":!0,"slds-radio_button":!0},key:3},[n("input",{classMap:{nearby:!0},attrs:{type:"radio",name:"sightings",id:l("nearby")},props:{value:"nearby",checked:s.nearbySelected,disabled:!0},key:0,on:{change:d||(a._m0=i(s.handleSightingsChange))}},[]),n("label",{classMap:{"slds-radio_button__label":!0},attrs:{for:""+l("nearby")},key:2},[n("span",{classMap:{"slds-radio_faux":!0},key:1},[o("Nearby")])])]),n("span",{classMap:{"slds-button":!0,"slds-radio_button":!0},key:7},[n("input",{classMap:{local:!0},attrs:{type:"radio",name:"sightings",id:l("local")},props:{value:"local",checked:s.localSelected},key:4,on:{change:c||(a._m1=i(s.handleSightingsChange))}},[]),n("label",{classMap:{"slds-radio_button__label":!0},attrs:{for:""+l("local")},key:6},[n("span",{classMap:{"slds-radio_faux":!0},key:5},[o("Local")])])]),n("span",{classMap:{"slds-button":!0,"slds-radio_button":!0},key:11},[n("input",{classMap:{state:!0},attrs:{type:"radio",name:"sightings",id:l("state")},props:{value:"state",checked:s.stateSelected},key:8,on:{change:p||(a._m2=i(s.handleSightingsChange))}},[]),n("label",{classMap:{"slds-radio_button__label":!0},attrs:{for:""+l("state")},key:10},[n("span",{classMap:{"slds-radio_faux":!0},key:9},[o("State")])])]),n("span",{classMap:{"slds-button":!0,"slds-radio_button":!0},key:15},[n("input",{classMap:{state:!0},attrs:{type:"radio",name:"custom",id:l("custom")},props:{value:"cutom",checked:s.customSelected,disabled:!0},key:12,on:{change:h||(a._m3=i(s.handleSightingsChange))}},[]),n("label",{classMap:{"slds-radio_button__label":!0},attrs:{for:""+l("custom")},key:14},[n("span",{classMap:{"slds-radio_faux":!0},key:13},[o("Custom")])])])])])])]),n("div",{classMap:{"slds-col":!0,"slds-large-size_2-of-3":!0,"slds-small-size_1-of-1":!0},key:20},[]),n("div",{classMap:{"slds-col":!0,"slds-large-size_1-of-3":!0,"slds-small-size_1-of-1":!0,"slds-p-left_x-small":!0},key:24},[n("div",{key:21},[]),n("div",{key:23},[r("my-sightings",C,{props:{sightings:s.sightings,header:s.sightingsHeader},key:22,on:{sightingselected:y||(a._m4=i(s.handleSightingsSelected))}},[])])]),n("div",{classMap:{"slds-col":!0,"slds-large-size_2-of-3":!0,"slds-small-size_1-of-1":!0},key:26},[r("my-sightings-details",A,{props:{sightings:s.selectedSightings},key:25},[])])])]}var $=Object(a.e)(I);I.stylesheets=[],f&&I.stylesheets.push.apply(I.stylesheets,f),I.stylesheetTokens={hostAttribute:"my-my-resources_resources-host",shadowAttribute:"my-my-resources_resources"};const z="https://ebird.org/ws2.0/",L=function(e){return new Promise((s,t)=>{fetch(e,{method:"GET",headers:{"X-eBirdApiToken":"cjsr36ksmnsn"}}).then(e=>e.json()).then(e=>{s(e)}).catch(e=>{t(e)})})};class N extends a.a{constructor(...e){super(...e),this.localSightings=void 0,this.localSightingsDaysBack=3,this.stateSightings=void 0,this.vaSightingsDaysBack=1,this.selectedSightings=[],this.nearbySelected=!1,this.localSelected=!0,this.stateSelected=!1,this.customSelected=!1,this.view="local"}connectedCallback(){this.getLocalSightings(),this.getVirginiaNotableSightings()}get localSightingsHeader(){return`Notable Fredericksburg Region Sightings for the past ${this.localSightingsDaysBack} days`}getLocalSightings(){(({lat:e,long:s,dist:t=50,daysBack:a=7})=>L(`${z}data/obs/geo/recent/notable?lat=${e}&lng=${s}&dist=${t}&back=${a}&detail=full`))({lat:38.31,long:-77.46,daysBack:this.localSightingsDaysBack}).then(e=>{this.localSightings=e})}getVirginiaNotableSightings(){(({regionCode:e,daysBack:s=14})=>L(`${z}data/obs/${e}/recent/notable?back=${s}&detail=full`))({regionCode:"US-VA",daysBack:this.vaSightingsDaysBack}).then(e=>{this.stateSightings=e})}get stateSightingsHeader(){return"Notable Virginia Sightings for the past day"}handleSightingsSelected(e){this.selectedSightings=e.detail;const s=this.template.querySelector("my-sightings-details");s.lat=void 0,s.lon=void 0}handleSightingsChange(e){this.view=e.target.value,this.selectedSightings=void 0,["nearby","local","state"].forEach(e=>{this[e+"Selected"]=!1}),this[this.view+"Selected"]=e.target.checked}get sightings(){return this[this.view+"Sightings"]}get sightingsHeader(){return this[this.view+"SightingsHeader"]}}Object(a.d)(N,{fields:["localSightings","localSightingsDaysBack","stateSightings","vaSightingsDaysBack","selectedSightings","nearbySelected","localSelected","stateSelected","customSelected","view"]});var P=Object(a.c)(N,{tmpl:$}),T=[];var B=[function(e,s,t){return["pre",s," {white-space: pre-wrap;font-size: 0.8125rem;font-family: Arial, Helvetica, sans-serif;}\n"].join("")}];var F=[function(e,s,t){return["pre",s," {white-space: pre-wrap;font-size: 1rem;font-family: Arial, Helvetica, sans-serif;}\n.slds-carousel__panel.panel-hide",s,"{display: none;}\n.slds-carousel__panel",s," img",s,"{max-height: 60vh !important;}\n.carousel-container",s,"{width: 80%;margin: 0 auto;}\n"].join("")}];function H(e,s,t,a){const{d:l,h:i,t:n,k:o,i:r,f:d,c:c}=e;return[i("pre",{key:0},[l(s.selectedEvent.tripReport)]),s.participants?i("div",{classMap:{"slds-grid":!0,"slds-wrap":!0,"slds-m-left_small":!0,"slds-m-right_small":!0},key:3},[i("div",{classMap:{"slds-size_1-of-1":!0,"slds-p-top_small":!0,"slds-text-align_center":!0,"slds-text-heading_small":!0},key:1},[n("Participants")]),i("div",{classMap:{"slds-size_1-of-1":!0,"slds-cell-wrap":!0,"slds-p-left_x-small":!0,"slds-p-right_x-small":!0},key:2},[l(s.participantString)])]):null,s.sightings?i("div",{classMap:{"slds-grid":!0,"slds-wrap":!0,"slds-gutters":!0,"slds-m-left_xx-small":!0,"slds-m-right_xx-small":!0},key:6},d([i("div",{classMap:{"slds-size_1-of-1":!0,"slds-p-top_large":!0,"slds-text-align_center":!0,"slds-text-heading_small":!0},key:4},[n("Species Sighted")]),r(s.selectedEvent.sightings,(function(e){return i("div",{classMap:{"slds-size_1-of-3":!0,"slds-small-size_1-of-2":!0,"slds-large-size_1-of-3":!0,"slds-cell-wrap":!0,"slds-col":!0},key:o(5,e._id)},[l(e.common)])}))])):null,s.photos?i("div",{classMap:{"slds-p-top_medium":!0},key:9},[i("div",{classMap:{"carousel-container":!0},key:8},[c("c-carousel-component",p,{props:{items:s.selectedEvent.photos,options:s.opts},key:7},[])])]):null]}var R=Object(a.e)(H);H.stylesheets=[],F&&H.stylesheets.push.apply(H.stylesheets,F),H.stylesheetTokens={hostAttribute:"my-my-tripreport_tripreport-host",shadowAttribute:"my-my-tripreport_tripreport"};class V extends a.a{constructor(...e){super(...e),this.selectedEvent=void 0,this.opts={autoScroll:!1,autoScrollTime:7}}get sightings(){return void 0!==this.selectedEvent.sightings&&this.selectedEvent.sightings.length>0}get participants(){return void 0!==this.selectedEvent.participants&&this.selectedEvent.participants.length>0}get photos(){return void 0!==this.selectedEvent.photos}get participantString(){if(void 0===this.selectedEvent.participants)return"";let e="";for(let s=0;s<this.selectedEvent.participants.length;s++)e+=this.selectedEvent.participants[s].name,s<this.selectedEvent.participants.length-1&&(e+=", ");return e}}Object(a.d)(V,{publicProps:{selectedEvent:{config:0}},fields:["opts"]});var q=Object(a.c)(V,{tmpl:R});function W(e,s,t,l){const{h:i,t:n,d:o,gid:r,b:d,c:c}=e,{_m0:p,_m1:h}=l;return[s.showDetails?i("article",{classMap:{"slds-card":!0},key:42},[i("div",{classMap:{"slds-card__header":!0,"slds-grid":!0},key:8},[i("header",{classMap:{"slds-media":!0,"slds-media_center":!0,"slds-has-flexi-truncate":!0},key:7},[i("div",{classMap:{"slds-media__figure":!0},key:4},[i("span",{classMap:{"slds-icon_container":!0,"slds-icon-standard-account":!0},attrs:{title:"account"},key:3},[i("svg",{classMap:{"slds-icon":!0,"slds-icon_medium":!0},attrs:{"aria-hidden":"true"},key:1},[i("use",{attrs:{"xlink:href":Object(a.f)("use","http://www.w3.org/2000/svg","xlink:href","resources/SLDS/icons/standard-sprite/svg/symbols.svg#knowledge")},key:0},[])]),i("span",{classMap:{"slds-assistive-text":!0},key:2},[n("event")])])]),i("div",{classMap:{"slds-media__body":!0},key:6},[i("h2",{classMap:{"slds-card__header-title":!0},key:5},[o(s.selectedEvent.event)])])])]),i("div",{classMap:{"slds-card__body":!0,"slds-card__body_inner":!0},key:41},[i("div",{classMap:{"slds-scrollable--y":!0},styleMap:{maxHeight:"650px"},key:40},[s.eventCancelled?i("div",{classMap:{"slds-scoped-notification":!0,"slds-media":!0,"slds-media_center":!0,"slds-theme_error":!0},attrs:{role:"status"},key:16},[i("div",{classMap:{"slds-media__figure":!0},key:13},[i("span",{classMap:{"slds-icon_container":!0,"slds-icon-utility-error":!0},attrs:{title:"error"},key:12},[i("svg",{classMap:{"slds-icon":!0,"slds-icon_small":!0},attrs:{"aria-hidden":"true"},key:10},[i("use",{attrs:{"xlink:href":Object(a.f)("use","http://www.w3.org/2000/svg","xlink:href","resources/SLDS/icons/utility-sprite/svg/symbols.svg#error")},key:9},[])]),i("span",{classMap:{"slds-assistive-text":!0},key:11},[n("error")])])]),i("div",{classMap:{"slds-media__body":!0},key:15},[i("p",{key:14},[n("This event was cancelled")])])]):null,i("div",{classMap:{"slds-text-body_small":!0},key:39},[s.eventCancelled?null:s.tripReport?i("div",{classMap:{"slds-p-top_small":!0,"slds-p-bottom_small":!0},key:28},[i("fieldset",{classMap:{"slds-form-element":!0},key:27},[i("div",{classMap:{"slds-form-element__control":!0},key:26},[i("div",{classMap:{"slds-radio_button-group":!0},key:25},[i("span",{classMap:{"slds-button":!0,"slds-radio_button":!0},key:20},[i("input",{classMap:{text:!0},attrs:{type:"radio",name:"event",id:r("text")},props:{value:"text",checked:s.textSelected,disabled:s.textDisabled},key:17,on:{change:p||(l._m0=d(s.handleTypeChange))}},[]),i("label",{classMap:{"slds-radio_button__label":!0},attrs:{for:""+r("text")},key:19},[i("span",{classMap:{"slds-radio_faux":!0},key:18},[n("Text")])])]),i("span",{classMap:{"slds-button":!0,"slds-radio_button":!0},key:24},[i("input",{classMap:{pdf:!0},attrs:{type:"radio",name:"event",id:r("pdf")},props:{value:"pdf",checked:s.pdfSelected,disabled:s.pdfDisabled},key:21,on:{change:h||(l._m1=d(s.handleTypeChange))}},[]),i("label",{classMap:{"slds-radio_button__label":!0},attrs:{for:""+r("pdf")},key:23},[i("span",{classMap:{"slds-radio_faux":!0},key:22},[n("PDF")])])])])])])]):null,s.eventCancelled?null:s.textSelected&&s.tripReport?c("my-tripreport",q,{props:{selectedEvent:s.selectedEvent},key:29},[]):null,s.eventCancelled?null:s.pdfSelected?i("iframe",{attrs:{src:s.pdfFileLocation,width:"100%",height:"600px"},key:30},[]):null,s.eventCancelled||s.tripReport?null:i("div",{classMap:{"slds-scoped-notification":!0,"slds-media":!0,"slds-media_center":!0,"slds-theme_warning":!0},attrs:{role:"status"},key:38},[i("div",{classMap:{"slds-media__figure":!0},key:35},[i("span",{classMap:{"slds-icon_container":!0,"slds-icon-utility-warning":!0},attrs:{title:"warning"},key:34},[i("svg",{classMap:{"slds-icon":!0,"slds-icon_small":!0},attrs:{"aria-hidden":"true"},key:32},[i("use",{attrs:{"xlink:href":Object(a.f)("use","http://www.w3.org/2000/svg","xlink:href","resources/SLDS/icons/utility-sprite/svg/symbols.svg#warning")},key:31},[])]),i("span",{classMap:{"slds-assistive-text":!0},key:33},[n("warning")])])]),i("div",{classMap:{"slds-media__body":!0},key:37},[i("p",{key:36},[n("A trip report has not been posted for this event")])])])])])])]):null]}var J=Object(a.e)(W);W.stylesheets=[],B&&W.stylesheets.push.apply(W.stylesheets,B),W.stylesheetTokens={hostAttribute:"my-my-eventDetails_eventDetails-host",shadowAttribute:"my-my-eventDetails_eventDetails"};t(42);class Y extends a.a{constructor(...e){super(...e),this.selectedEvent=void 0,this.textSelected=void 0,this.pdfSelected=void 0}connectedCallback(){}get eventCancelled(){return this.selectedEvent.cancelled}get tripReport(){return this.selectedEvent.tripReport||this.selectedEvent.pdfFile}get showDetails(){return this.selectedEvent}get showPDFDiabled(){return void 0===this.selectedEvent.pdfFile}handleViewPdfClick(){this.showModal=!0}handleClosePdfModal(){this.showModal=!1}get textDisabled(){return void 0===this.selectedEvent.tripReport||""===this.selectedEvent.tripReport}get pdfDisabled(){return void 0===this.selectedEvent.pdfFile}resetSelected(e,s){e?(this.textSelected=!0,this.pdfSelected=!1):s?(this.textSelected=!1,this.pdfSelected=!0):(this.textSelected=!1,this.pdfSelected=!1)}get pdfFileLocation(){return`resources/pdf/${this.selectedEvent.pdfFile}.pdf`}handleTypeChange(e){"text"===e.target.value?(this.textSelected=!0,this.pdfSelected=!1):(this.textSelected=!1,this.pdfSelected=!0)}}Object(a.d)(Y,{publicProps:{selectedEvent:{config:0}},publicMethods:["resetSelected"],fields:["textSelected","pdfSelected"]});var U=Object(a.c)(Y,{tmpl:J});function G(e,s,t,a){const{b:l,c:i,h:n}=e,{_m0:o,_m1:r}=a;return[n("div",{classMap:{"slds-grid":!0,"slds-wrap":!0,"slds-gutters":!0,"slds-p-left_medium":!0,"slds-p-right_medium":!0,main:!0,"slds-p-bottom_xx-large":!0,"slds-p-top_medium":!0},key:5},[n("div",{classMap:{"slds-col":!0,"slds-large-size_1-of-3":!0,"slds-small-size_1-of-1":!0,"slds-p-left_x-small":!0},key:2},[n("div",{key:1},[i("my-events",m,{props:{home:"false"},key:0,on:{eventclick:o||(a._m0=l(s.handleEventClick)),eventyearchange:r||(a._m1=l(s.handleYearChange))}},[])])]),n("div",{classMap:{"slds-col":!0,"slds-large-size_2-of-3":!0,"slds-small-size_1-of-1":!0},key:4},[i("my-event-details",U,{props:{selectedEvent:s.selectedEvent},key:3},[])])])]}var Q=Object(a.e)(G);G.stylesheets=[],T&&G.stylesheets.push.apply(G.stylesheets,T),G.stylesheetTokens={hostAttribute:"my-my-eventParent_eventParent-host",shadowAttribute:"my-my-eventParent_eventParent"};class K extends a.a{constructor(...e){super(...e),this.selectedEvent=void 0}handleEventClick(e){this.selectedEvent=e.detail,this.template.querySelector("my-event-details").resetSelected(""!==this.selectedEvent.tripReport&&void 0!==this.selectedEvent.tripReport,void 0!==this.selectedEvent.pdfFile&&""!==this.selectedEvent.pdfFile)}handleYearChange(){this.selectedEvent=void 0}}Object(a.d)(K,{fields:["selectedEvent"]});var X=Object(a.c)(K,{tmpl:Q});function Z(e,s,t,l){const{h:i,t:n,d:o,k:r,i:d,b:c}=e,{_m0:p,_m1:h}=l;return[s.hotspots?i("div",{key:27},[i("div",{classMap:{"slds-card":!0},key:26},[i("div",{classMap:{"slds-card__header":!0},key:9},[i("div",{classMap:{"slds-media":!0,"slds-media--center":!0,"slds-has-flexi-truncate":!0},key:8},[i("span",{classMap:{"slds-icon_container":!0,"slds-icon-standard-event":!0},attrs:{title:"Description of icon when needed"},key:3},[i("svg",{classMap:{"slds-icon":!0},attrs:{"aria-hidden":"true"},key:1},[i("use",{attrs:{"xlink:href":Object(a.f)("use","http://www.w3.org/2000/svg","xlink:href","resources/SLDS/icons/custom-sprite/svg/symbols.svg#custom3")},key:0},[])]),i("span",{classMap:{"slds-assistive-text":!0},key:2},[n("Description of icon when needed")])]),i("div",{classMap:{"slds-media__body":!0},key:7},[i("h2",{classMap:{"slds-p-left_small":!0,"slds-text-heading--small":!0,"slds-truncate":!0},key:6},[n("Hotspots for Â "),i("select",{key:5,on:{change:p||(l._m0=c(s.handleLocationChange))}},d(s.locations,(function(e){return i("option",{attrs:{value:e.value},key:r(4,e.value)},[o(e.label)])})))])])])]),i("div",{classMap:{"slds-card__body":!0},key:25},[i("div",{classMap:{"slds-scrollable--y":!0,"slds-is-relative":!0},styleMap:{maxHeight:"450px"},key:24},[i("table",{classMap:{fixed_header:!0,"slds-table":!0,"slds-table_cell-buffer":!0,"slds-table_bordered":!0,"slds-table_col-bordered":!0},key:23},[i("thead",{key:17},[i("tr",{classMap:{"slds-text-heading--label":!0},key:16},[i("th",{attrs:{scope:"col"},key:11},[i("span",{classMap:{"slds-truncate":!0},key:10},[n("Location")])]),i("th",{attrs:{scope:"col"},key:13},[i("span",{classMap:{"slds-truncate":!0},key:12},[n("Last Visited")])]),i("th",{attrs:{scope:"col"},key:15},[i("span",{classMap:{"slds-truncate":!0,"slds-text-align_center":!0},key:14},[n("Species")])])])]),i("tbody",{key:22},d(s.filteredHotspots,(function(e){return i("tr",{classMap:{"slds-hint-parent":!0},attrs:{"data-item":e.locId},key:r(21,e.locId),on:{click:h||(l._m1=c(s.handleHotspotClick))}},[i("td",{classMap:{"slds-cell-wrap":!0},key:18},[o(e.locName)]),i("td",{classMap:{"slds-cell-wrap":!0},key:19},[o(e.latestObsDt)]),i("td",{classMap:{"slds-cell-wrap":!0,"slds-text-align_center":!0},key:20},[o(e.numSpeciesAllTime)])])})))])])])])]):null]}var ee=Object(a.e)(Z);Z.stylesheets=[],Z.stylesheetTokens={hostAttribute:"my-my-hotspots_hotspots-host",shadowAttribute:"my-my-hotspots_hotspots"};class se extends a.a{constructor(...e){super(...e),this.hotspots=[],this.regions=void 0,this.locations=[],this.selectedId=""}connectedCallback(){const e=sessionStorage.getItem("hotspots");if(this.regions=JSON.parse(localStorage.getItem("regions")),e)this.hotspots=JSON.parse(e),this.locations=this.setLocations(),this.selectedId=this.locations[0].value;else{(({lat:e,long:s,dist:t=50})=>L(`${z}ref/hotspot/geo?lat=${e}&lng=${s}&dist=${t}&fmt=json`))({lat:38.31,long:-77.46}).then(e=>{this.hotspots=e,sessionStorage.setItem("hotspots",JSON.stringify(e)),this.locations=this.setLocations(),this.selectedId=this.locations[0].value})}}setLocations(){let e=[],s=new Set(this.hotspots.map(e=>e.subnational2Code));return s.delete(void 0),s.forEach(s=>{let t=this.regions.find(e=>s===e.code);e.push({value:s,label:t.name})}),e.sort((e,s)=>e.label>s.label?1:-1)}get filteredHotspots(){return this.hotspots.filter(e=>e.subnational2Code===this.selectedId)}handleLocationChange(e){this.selectedId=e.target.value,this.dispatchEvent(new CustomEvent("locationchange"))}handleHotspotClick(e){this.dispatchEvent(new CustomEvent("hotspotclick",{bubbles:!0,composed:!0,detail:e.currentTarget.dataset.item}))}}Object(a.d)(se,{fields:["hotspots","regions","locations","selectedId"]});var te=Object(a.c)(se,{tmpl:ee});function ae(e,s,t,a){const{d:l,h:i,t:n,k:o,i:r}=e;return[s.showHotspot?i("article",{classMap:{"slds-card":!0},key:32},[i("div",{classMap:{"slds-card__header":!0,"slds-grid":!0},key:5},[i("header",{classMap:{"slds-media":!0,"slds-media_center":!0,"slds-has-flexi-truncate":!0},key:4},[i("div",{classMap:{"slds-media__body":!0},key:3},[i("h2",{classMap:{"slds-card__header-title":!0},key:2},[i("a",{classMap:{"slds-card__header-link":!0,"slds-truncate":!0},attrs:{href:s.ebirdLink,title:s.hotspot.name,target:"_blank"},key:1},[i("span",{key:0},[l(s.hotspot.hierarchicalName)])])])])])]),i("div",{classMap:{"slds-card__body":!0,"slds-card__body_inner":!0},key:31},[i("div",{classMap:{"slds-grid":!0,"slds-wrap":!0},key:30},[i("div",{classMap:{"slds-small-size_1-of-1":!0,"slds-large-size_1-of-2":!0,"slds-col":!0},key:27},[s.showSpeciesList?i("div",{classMap:{"slds-card":!0},key:26},[i("header",{classMap:{"slds-media":!0,"slds-media_center":!0,"slds-has-flexi-truncate":!0},key:8},[i("div",{classMap:{"slds-media__body":!0},key:7},[i("h3",{classMap:{"slds-card__header-title":!0},key:6},[n("Species List")])])]),i("div",{classMap:{"slds-card__body":!0},key:25},[i("div",{classMap:{"slds-scrollable--y":!0,"slds-is-relative":!0},styleMap:{maxHeight:"375px"},key:24},[i("table",{classMap:{fixed_header:!0,"slds-table":!0,"slds-table_cell-buffer":!0,"slds-table_bordered":!0,"slds-table_col-bordered":!0},key:23},[i("thead",{key:16},[i("tr",{classMap:{"slds-text-heading--label":!0},key:15},[i("th",{attrs:{scope:"col"},key:10},[i("span",{classMap:{"slds-truncate":!0},key:9},[n("Common")])]),i("th",{attrs:{scope:"col"},key:12},[i("span",{classMap:{"slds-truncate":!0},key:11},[n("Scientific")])]),i("th",{attrs:{scope:"col"},key:14},[i("span",{classMap:{"slds-truncate":!0},key:13},[n("Family")])])])]),i("tbody",{key:22},r(s.sightings,(function(e){return i("tr",{classMap:{"slds-hint-parent":!0},key:o(21,e.comName)},[i("td",{classMap:{"slds-cell-wrap":!0},key:17},[l(e.comName)]),i("td",{classMap:{"slds-cell-wrap":!0},key:19},[i("i",{key:18},[l(e.sciName)])]),i("td",{classMap:{"slds-cell-wrap":!0},key:20},[l(e.familyComName)])])})))])])])]):null]),i("div",{classMap:{"slds-small-size_1-of-1":!0,"slds-large-size_1-of-2":!0,"slds-col":!0},key:29},[i("iframe",{styleMap:{border:"0"},attrs:{width:"100%",height:"400px",frameborder:"0",src:s.mapUrl,allowfullscreen:!0},key:28},[])])])])]):null]}var le=Object(a.e)(ae);ae.stylesheets=[],ae.stylesheetTokens={hostAttribute:"my-my-hotspotDetails_hotspotDetails-host",shadowAttribute:"my-my-hotspotDetails_hotspotDetails"};class ie extends a.a{constructor(...e){super(...e),this.hotspot=void 0,this.sightings=[]}get showHotspot(){return void 0!==this.hotspot&&null!==this.hotspot}get mapUrl(){return`https://www.google.com/maps/embed/v1/place?key=AIzaSyCB3Q5szLx_1-UE-WIkFSgA3fFi7-KWFAM&q=${this.hotspot.latitude},${this.hotspot.longitude}&zoom=14`}get ebirdLink(){return"https://ebird.org/hotspot/"+this.hotspot.locId}get showSpeciesList(){return void 0!==this.sightings&&null!==this.sightings}}Object(a.d)(ie,{publicProps:{hotspot:{config:0},sightings:{config:0}}});var ne=Object(a.c)(ie,{tmpl:le});function oe(e,s,t,a){const{b:l,c:i,h:n}=e,{_m0:o,_m1:r}=a;return[n("div",{classMap:{"slds-grid":!0,"slds-wrap":!0,"slds-gutters":!0,"slds-p-left_medium":!0,"slds-p-right_medium":!0,main:!0,"slds-p-bottom_xx-large":!0,"slds-p-top_medium":!0},key:5},[n("div",{classMap:{"slds-col":!0,"slds-large-size_1-of-3":!0,"slds-small-size_1-of-1":!0,"slds-p-left_x-small":!0},key:2},[n("div",{key:1},[i("my-hotspots",te,{key:0,on:{hotspotclick:o||(a._m0=l(s.handleHotspotClick)),locationchange:r||(a._m1=l(s.handleLocationChange))}},[])])]),n("div",{classMap:{"slds-col":!0,"slds-large-size_2-of-3":!0,"slds-small-size_1-of-1":!0},key:4},[i("my-hotspot-details",ne,{props:{hotspot:s.hotspot,sightings:s.sightings},key:3},[])])])]}var re=Object(a.e)(oe);oe.stylesheets=[],oe.stylesheetTokens={hostAttribute:"my-my-hotspotParent_hotspotParent-host",shadowAttribute:"my-my-hotspotParent_hotspotParent"};class de extends a.a{constructor(...e){super(...e),this.hotspot=void 0,this.sightings=void 0}handleHotspotClick(e){const s=JSON.parse(localStorage.getItem("taxonomy"));(({locId:e})=>L(`${z}ref/hotspot/info/${e}`))({locId:e.detail}).then(e=>{this.hotspot=e,(({locId:e})=>L(`${z}product/spplist/${e}`))({locId:this.hotspot.locId}).then(e=>{const t=s.filter(s=>e.includes(s.speciesCode));this.sightings=t.sort((e,s)=>e.comName>s.comName?1:-1)})})}handleLocationChange(){this.hotspot=void 0,this.sightings=void 0}}Object(a.d)(de,{fields:["hotspot","sightings"]});var ce=Object(a.c)(de,{tmpl:re});function pe(e,s,t,a){const{t:l,h:i,b:n,c:o}=e,{_m0:r,_m1:d,_m2:c,_m3:p,_m4:h,_m5:y,_m6:u,_m7:g,_m8:m,_m9:k,_m10:v,_m11:b,_m12:f}=a;return[i("div",{classMap:{"slds-box":!0,header:!0,"slds-size-large_1-of-1":!0,"slds-size-small_1-of-1":!0},key:2},[i("div",{classMap:{center:!0,header1:!0},key:0},[l("Fredericksburg Birding Club")]),i("div",{classMap:{center:!0,header2:!0},key:1},[l("A Local Chapter of the Virginia Society of Ornithology")])]),i("div",{classMap:{"slds-context-bar":!0},key:62},[i("div",{classMap:{"slds-context-bar__primary":!0},key:19},[i("div",{classMap:{"slds-context-bar__item":!0,"slds-context-bar__dropdown-trigger":!0,"slds-dropdown-trigger":!0,"slds-dropdown-trigger_click":!0,"slds-no-hover":!0},key:18},[i("div",{classMap:{"slds-context-bar__icon-action":!0},key:15},[i("button",{classMap:{"slds-button":!0,"slds-icon-waffle_container":!0,"slds-context-bar__button":!0},attrs:{title:"Description of the icon when needed"},key:14},[i("span",{classMap:{"slds-icon-waffle":!0},key:12},[i("span",{classMap:{"slds-r1":!0},key:3},[]),i("span",{classMap:{"slds-r2":!0},key:4},[]),i("span",{classMap:{"slds-r3":!0},key:5},[]),i("span",{classMap:{"slds-r4":!0},key:6},[]),i("span",{classMap:{"slds-r5":!0},key:7},[]),i("span",{classMap:{"slds-r6":!0},key:8},[]),i("span",{classMap:{"slds-r7":!0},key:9},[]),i("span",{classMap:{"slds-r8":!0},key:10},[]),i("span",{classMap:{"slds-r9":!0},key:11},[])]),i("span",{classMap:{"slds-assistive-text":!0},key:13},[l("Open App Launcher")])])]),i("span",{classMap:{"slds-context-bar__label-action":!0,"slds-context-bar__app-name":!0},key:17},[i("span",{attrs:{title:"App Name"},key:16},[l("FBC")])])])]),i("nav",{classMap:{"slds-context-bar__secondary":!0,"slds-p-top_x-small":!0},attrs:{role:"navigation"},key:61},[i("ul",{classMap:{"slds-grid":!0},key:60},[i("li",{className:s.homeStyle,key:22},[i("a",{classMap:{"slds-context-bar__label-action":!0},attrs:{href:"javascript:void(0);",title:"home"},key:21,on:{click:r||(a._m0=n(s.handleMenuClick))}},[i("span",{classMap:{"slds-truncate":!0},attrs:{title:"home"},key:20},[l("Home")])])]),i("li",{classMap:{birds:!0,"slds-context-bar__item":!0,"slds-context-bar__dropdown-trigger":!0,"slds-dropdown-trigger":!0,"slds-dropdown-trigger_click":!0},key:36},[i("a",{classMap:{"slds-context-bar__label-action":!0},attrs:{href:"#",title:"Birding Resources"},key:24,on:{click:d||(a._m1=n(s.handleBirdsClick))}},[i("span",{classMap:{"slds-truncate":!0},attrs:{title:"Birds"},key:23},[l("Birding Resources")])]),i("div",{classMap:{"slds-dropdown":!0,"slds-dropdown_right":!0},key:35},[i("ul",{classMap:{"slds-dropdown__list":!0},attrs:{role:"menu"},key:34},[i("li",{classMap:{"slds-dropdown__item":!0},attrs:{role:"presentation"},key:27},[i("a",{attrs:{href:"#",role:"menuitem",tabindex:"-1"},key:26},[i("span",{classMap:{"slds-truncate":!0},attrs:{title:"sightings"},key:25,on:{click:c||(a._m2=n(s.handleMenuClick))}},[l("Sightings")])])]),i("li",{classMap:{"slds-dropdown__item":!0},attrs:{role:"presentation"},key:30},[i("a",{attrs:{href:"#",role:"menuitem",tabindex:"-1"},key:29},[i("span",{classMap:{"slds-truncate":!0},attrs:{title:"hotspots"},key:28,on:{click:p||(a._m3=n(s.handleMenuClick))}},[l("Hotspots")])])]),i("li",{classMap:{"slds-dropdown__item":!0},attrs:{role:"presentation"},key:33},[i("a",{attrs:{href:"#",role:"menuitem",tabindex:"-1"},key:32},[i("span",{classMap:{"slds-truncate":!0},attrs:{title:"birds"},key:31,on:{click:h||(a._m4=n(s.handleMenuClick))}},[l("Birds")])])])])])]),i("li",{classMap:{club:!0,"slds-context-bar__item":!0,"slds-context-bar__dropdown-trigger":!0,"slds-dropdown-trigger":!0,"slds-dropdown-trigger_click":!0},key:59},[i("a",{classMap:{"slds-context-bar__label-action":!0},attrs:{href:"#",title:"Birds"},key:38,on:{click:y||(a._m5=n(s.handleClubClick))}},[i("span",{classMap:{"slds-truncate":!0},attrs:{title:"Club"},key:37},[l("Club")])]),i("div",{classMap:{"slds-dropdown":!0,"slds-dropdown_right":!0},key:58},[i("ul",{classMap:{"slds-dropdown__list":!0},attrs:{role:"menu"},key:57},[i("li",{classMap:{"slds-dropdown__item":!0},attrs:{role:"presentation"},key:41},[i("a",{attrs:{href:"#",role:"menuitem",tabindex:"-1"},key:40},[i("span",{classMap:{"slds-truncate":!0},attrs:{title:"About"},key:39,on:{click:u||(a._m6=n(s.handleAboutClick))}},[l("About")])])]),i("li",{classMap:{"slds-dropdown__item":!0},attrs:{role:"presentation"},key:44},[i("a",{attrs:{href:"#",role:"menuitem",tabindex:"-1"},key:43},[i("span",{classMap:{"slds-truncate":!0},attrs:{title:"Membersip"},key:42,on:{click:g||(a._m7=n(s.handleMembershipClick))}},[l("Membership")])])]),i("li",{classMap:{"slds-dropdown__item":!0},attrs:{role:"presentation"},key:47},[i("a",{attrs:{href:"#",role:"menuitem",tabindex:"-1"},key:46},[i("span",{classMap:{"slds-truncate":!0},attrs:{title:"Officers"},key:45,on:{click:m||(a._m8=n(s.handleOfficersClick))}},[l("Club Officers")])])]),i("li",{classMap:{"slds-dropdown__item":!0},attrs:{role:"presentation"},key:50},[i("a",{attrs:{href:"#",role:"menuitem",tabindex:"-1"},key:49},[i("span",{classMap:{"slds-truncate":!0},attrs:{title:"events"},key:48,on:{click:k||(a._m9=n(s.handleMenuClick))}},[l("Events")])])]),i("li",{classMap:{"slds-dropdown__item":!0},attrs:{role:"presentation"},key:53},[i("a",{attrs:{href:"#",role:"menuitem",tabindex:"-1"},key:52},[i("span",{classMap:{"slds-truncate":!0},attrs:{title:"Trip Reports"},key:51,on:{click:v||(a._m10=n(s.handleTripReportsClick))}},[l("Trip Reports")])])]),i("li",{classMap:{"slds-dropdown__item":!0},attrs:{role:"presentation"},key:56},[i("a",{attrs:{href:"#",role:"menuitem",tabindex:"-1"},key:55},[i("span",{classMap:{"slds-truncate":!0},attrs:{title:"Newsletters"},key:54,on:{click:b||(a._m11=n(s.handleNewslettersClick))}},[l("Newsletters")])])])])])])])])]),s.homeSelected?o("my-home",_,{key:63,on:{viewall:f||(a._m12=n(s.handleViewAll))}},[]):null,s.sightingsSelected?o("my-resources",P,{key:64},[]):null,s.eventsSelected?o("my-event-parent",X,{key:65},[]):null,s.hotspotsSelected?o("my-hotspot-parent",ce,{key:66},[]):null]}var he=Object(a.e)(pe);pe.stylesheets=[],l&&pe.stylesheets.push.apply(pe.stylesheets,l),pe.stylesheetTokens={hostAttribute:"my-my-app_app-host",shadowAttribute:"my-my-app_app"};class ye extends a.a{constructor(...e){super(...e),this.homeSelected=!0,this.sightingsSelected=!1,this.hotspotsSelected=!1,this.birdsOpen=!1,this.clubOpen=!1,this.properties={home:!0,sightings:!1,hotspots:!1,events:!1}}connectedCallback(){const e={};sessionStorage.getItem("regions")||(({region:e="US"})=>L(`${z}ref/region/list/subnational2/${e}`))(e).then(e=>{localStorage.setItem("regions",JSON.stringify(e))}),sessionStorage.getItem("taxonomy")||L("https://ebird.org/ws2.0/ref/taxonomy/ebird?fmt=json").then(e=>localStorage.setItem("taxonomy",JSON.stringify(e)))}handleBirdsClick(){this.clubOpen&&this.handleClubClick();let e=this.template.querySelector(".birds").classList;this.birdsOpen?(e.remove("slds-is-open"),this.birdsOpen=!1):(e.add("slds-is-open"),this.birdsOpen=!0)}handleClubClick(){this.birdsOpen&&this.handleBirdsClick();let e=this.template.querySelector(".club").classList;this.clubOpen?(e.remove("slds-is-open"),this.clubOpen=!1):(e.add("slds-is-open"),this.clubOpen=!0)}get homeStyle(){return this.getMenuStyle(this.homeSelected)}get birdsStyle(){return this.sightingsSelected||this.hotspotsSelected,""}getMenuStyle(e){return"slds-context-bar__item"}handleMenuClick(e){this.birdsOpen&&this.handleBirdsClick(),this.clubOpen&&this.handleClubClick(),this.displayComponent(e.target.title)}handleViewAll(e){this.displayComponent(e.detail)}displayComponent(e){for(const e in this.properties)this.properties[e]=!1,this[e+"Selected"]=!1;this.properties[e]=!0,this[e+"Selected"]=!0}}Object(a.d)(ye,{fields:["homeSelected","sightingsSelected","hotspotsSelected","birdsOpen","clubOpen","properties"]});var ue=Object(a.c)(ye,{tmpl:he});const ge=Object(a.b)("my-app",{is:ue});document.querySelector("#main").appendChild(ge)}});